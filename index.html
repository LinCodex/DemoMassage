<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEMO | Massage & Wellness</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Manrope:wght@200;300;400;500;600&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'Noto Sans SC', 'sans-serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                    },
                    colors: {
                        brand: '#9F2B2B',        // Deep Lacquer Red
                        ink: '#121212',          // True Black
                        gold: '#C6A87C',         // Muted Champagne
                        paper: '#F7F5F0',        // Bone White
                        sand: '#EBE9E4',
                    },
                    animation: {
                        'float': 'float 8s ease-in-out infinite',
                        'reveal': 'reveal 1.2s cubic-bezier(0.77, 0, 0.175, 1) forwards',
                        'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
                        'fade-in': 'fadeIn 0.4s ease-out forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-15px)' },
                        },
                        reveal: {
                            '0%': { transform: 'translateY(100%)' },
                            '100%': { transform: 'translateY(0)' }
                        },
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        }
                    },
                    cursor: {
                        'none': 'none',
                    }
                }
            }
        }
    </script>

    <style>
        /* --- CORE STYLES --- */
        body {
            background-color: #F7F5F0;
            color: #121212;
            cursor: none; /* Hide default cursor for custom one */
            overflow-x: hidden;
        }

        /* Texture Overlay */
        .noise {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.03;
            background: url("https://www.transparenttextures.com/patterns/stardust.png");
        }

        /* --- CUSTOM CURSOR --- */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0; left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }
        .cursor-dot {
            width: 8px; height: 8px;
            background-color: #9F2B2B;
        }
        .cursor-outline {
            width: 40px; height: 40px;
            border: 1px solid rgba(159, 43, 43, 0.5);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }
        /* Hover State */
        body.hovering .cursor-outline {
            width: 60px; height: 60px;
            background-color: rgba(159, 43, 43, 0.1);
            border-color: transparent;
        }

        /* --- LOADER --- */
        #loader {
            position: fixed;
            inset: 0;
            background: #F7F5F0;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.8s cubic-bezier(0.76, 0, 0.24, 1);
        }
        .loader-text {
            overflow: hidden;
        }
        .loader-text span {
            display: block;
            animation: reveal 1s cubic-bezier(0.76, 0, 0.24, 1) forwards;
            transform: translateY(100%);
        }

        /* --- ANIMATIONS --- */
        .reveal-text {
            overflow: hidden;
            display: block;
            padding-bottom: 0.2em;
        }
        .reveal-text span {
            display: block;
            transform: translateY(100%);
            transition: transform 1s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .is-visible .reveal-text span {
            transform: translateY(0);
        }

        /* --- NAVIGATION --- */
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background-color: #9F2B2B;
            transition: width 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .nav-link:hover::after {
            width: 100%;
        }

        /* --- CALENDAR STYLES --- */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 6px;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 50%;
            font-family: 'Manrope', sans-serif;
            font-size: 0.9rem;
            position: relative;
        }
        .calendar-day::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 1px solid #9F2B2B;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s;
        }
        .calendar-day:hover:not(.disabled):not(.selected)::after {
            opacity: 0.3;
            transform: scale(1);
        }
        .calendar-day.selected {
            background-color: #9F2B2B;
            color: white;
        }
        .calendar-day.disabled {
            color: #d1d5db;
            cursor: not-allowed;
            opacity: 0.4;
        }
        
        /* Time slots */
        .time-slot.selected {
            background-color: #9F2B2B;
            color: white;
            border-color: #9F2B2B;
        }

        /* --- UTILS --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .accordion-content {
            transition: max-height 0.4s ease-in-out, opacity 0.4s ease-in-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
        }
        .accordion-item.active .accordion-content {
            opacity: 1;
        }
    </style>
</head>
<body class="antialiased">

    <!-- LOADER -->
    <div id="loader">
        <div class="text-center">
            <div class="loader-text mb-2">
                <span class="font-serif text-5xl md:text-7xl font-light text-brand italic">Silence</span>
            </div>
            <div class="loader-text">
                <span class="text-xs uppercase tracking-[0.4em] text-ink font-bold">is luxury</span>
            </div>
        </div>
    </div>

    <!-- CHECKOUT MODAL -->
    <div id="checkout-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-ink/90 backdrop-blur-sm" onclick="closeCheckout()"></div>
        <div class="relative bg-paper w-full max-w-md p-6 md:p-12 shadow-2xl border border-brand/20 max-h-[90vh] overflow-y-auto rounded-xl">
            <button onclick="closeCheckout()" class="hoverable absolute top-4 right-4 text-gray-400 hover:text-brand"><i class="ph ph-x text-2xl"></i></button>
            
            <div id="checkout-step-1">
                <div class="text-center mb-8">
                    <span class="text-xs font-bold uppercase tracking-widest text-brand mb-2 block" data-i18n="checkout_title">Checkout</span>
                    <h3 class="font-serif text-4xl text-ink" id="checkout-amount-display">$100.00</h3>
                    <p class="text-sm text-gray-500 mt-2" data-i18n="checkout_desc">Gift Card Purchase</p>
                </div>

                <form onsubmit="event.preventDefault(); processPayment();" class="space-y-6">
                    <div class="space-y-4">
                        <div class="relative">
                            <input type="text" placeholder="Card Number" class="hoverable w-full bg-transparent border-b border-gray-300 py-3 text-ink font-mono text-sm focus:outline-none focus:border-brand placeholder:text-gray-400" value="4242 4242 4242 4242" readonly>
                            <i class="ph-fill ph-credit-card absolute right-0 top-3 text-gray-400"></i>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" placeholder="MM/YY" class="hoverable w-full bg-transparent border-b border-gray-300 py-3 text-ink font-mono text-sm focus:outline-none focus:border-brand placeholder:text-gray-400" value="12/28" readonly>
                            <input type="text" placeholder="CVC" class="hoverable w-full bg-transparent border-b border-gray-300 py-3 text-ink font-mono text-sm focus:outline-none focus:border-brand placeholder:text-gray-400" value="123" readonly>
                        </div>
                        <input type="email" required placeholder="Email for Receipt" class="hoverable w-full bg-transparent border-b border-gray-300 py-3 text-ink text-sm focus:outline-none focus:border-brand placeholder:text-gray-400">
                    </div>

                    <div class="pt-4">
                        <button type="submit" class="hoverable w-full py-4 bg-brand text-white font-bold uppercase tracking-widest text-xs hover:bg-ink transition-colors shadow-lg" data-i18n="btn_pay">Pay Now</button>
                        <p class="text-[10px] text-center text-gray-400 mt-4 uppercase tracking-widest">Demo Mode • No Real Payment</p>
                    </div>
                </form>
            </div>

            <div id="checkout-step-2" class="hidden text-center py-12">
                <div class="w-12 h-12 border-2 border-gray-200 border-t-brand rounded-full animate-spin mx-auto mb-6"></div>
                <p class="text-xs font-bold uppercase tracking-widest text-ink animate-pulse" data-i18n="msg_processing">Processing...</p>
            </div>

            <div id="checkout-step-3" class="hidden text-center py-8">
                <div class="w-16 h-16 bg-brand/10 text-brand rounded-full flex items-center justify-center mx-auto mb-6 scale-0 animate-[reveal_0.5s_ease-out_forwards]">
                    <i class="ph-fill ph-check text-3xl"></i>
                </div>
                <h3 class="font-serif text-3xl text-ink mb-2" data-i18n="msg_success_title">Payment Successful</h3>
                <p class="text-sm text-gray-500 mb-8" data-i18n="msg_success_desc">Your gift card code has been sent to your email.</p>
                <button onclick="closeCheckout()" class="hoverable text-xs font-bold uppercase tracking-widest text-brand border-b border-brand pb-1 hover:text-ink hover:border-ink transition-colors" data-i18n="btn_close">Close</button>
            </div>
        </div>
    </div>

    <!-- CURSOR -->
    <div class="cursor-dot hidden md:block"></div>
    <div class="cursor-outline hidden md:block"></div>

    <!-- NOISE OVERLAY -->
    <div class="noise"></div>

    <!-- NAVIGATION (Full Width) -->
    <nav id="main-nav" class="fixed top-0 w-full z-50 px-8 py-6 flex justify-between items-center mix-blend-difference text-white md:mix-blend-normal md:text-ink transition-colors duration-500">
        <!-- Logo -->
        <a href="#" onclick="navigateTo('home')" class="hoverable z-50 group flex items-center gap-2">
            <span class="w-3 h-3 bg-brand rounded-full group-hover:scale-150 transition-transform"></span>
            <span class="font-bold tracking-widest uppercase text-lg">Demo</span>
        </a>

        <!-- Desktop Links -->
        <div class="hidden md:flex items-center gap-12 font-serif text-lg tracking-wide">
            <a href="#" onclick="navigateTo('home')" class="hoverable nav-link relative" data-i18n="nav_home">Home</a>
            <a href="#" onclick="navigateTo('services')" class="hoverable nav-link relative" data-i18n="nav_services">Services</a>
            <a href="#" onclick="navigateTo('giftcards')" class="hoverable nav-link relative" data-i18n="nav_giftcards">Gift Cards</a>
            <a href="#" onclick="navigateTo('booking')" class="hoverable nav-link relative" data-i18n="nav_book">Book</a>
            <a href="#" onclick="navigateTo('faq')" class="hoverable nav-link relative">FAQ</a>
            <a href="#" onclick="navigateTo('contact')" class="hoverable nav-link relative" data-i18n="nav_contact">Contact</a>
        </div>

        <!-- Right Actions -->
        <div class="z-50 flex items-center gap-8">
            <button onclick="toggleLanguage()" class="hoverable text-xs font-bold uppercase tracking-wider md:text-ink text-white hover:text-brand transition-colors">
                <span id="lang-display">EN</span>
            </button>

            <!-- Mobile Menu Toggle -->
            <button onclick="toggleMenu()" class="hoverable md:hidden flex flex-col gap-1.5 group">
                <span class="w-8 h-0.5 bg-current transition-all group-hover:w-6 bg-white"></span>
                <span class="w-8 h-0.5 bg-current transition-all group-hover:w-4 bg-white"></span>
            </button>
        </div>
    </nav>

    <!-- MOBILE MENU -->
    <div id="fs-menu" class="fixed inset-0 bg-brand z-40 transform translate-y-[-100%] transition-transform duration-700 cubic-bezier(0.76, 0, 0.24, 1) flex flex-col justify-center items-center md:hidden">
        <div class="space-y-6 text-center">
            <a href="#" onclick="navigateTo('home'); toggleMenu()" class="block font-serif text-5xl text-white hover:italic" data-i18n="nav_home">Home</a>
            <a href="#" onclick="navigateTo('services'); toggleMenu()" class="block font-serif text-5xl text-white hover:italic" data-i18n="nav_services">Services</a>
            <a href="#" onclick="navigateTo('giftcards'); toggleMenu()" class="block font-serif text-5xl text-white hover:italic" data-i18n="nav_giftcards">Gift Cards</a>
            <a href="#" onclick="navigateTo('booking'); toggleMenu()" class="block font-serif text-5xl text-white hover:italic" data-i18n="nav_book">Book</a>
            <a href="#" onclick="navigateTo('faq'); toggleMenu()" class="block font-serif text-5xl text-white hover:italic">FAQ</a>
            <a href="#" onclick="navigateTo('contact'); toggleMenu()" class="block font-serif text-5xl text-white hover:italic" data-i18n="nav_contact">Contact</a>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main id="main-content">

        <!-- HERO -->
        <section id="home" class="relative min-h-screen flex items-center justify-center overflow-hidden page-section active">
            <!-- Mobile BG -->
            <div class="absolute inset-0 md:hidden opacity-10 z-0">
                <img src="https://images.unsplash.com/photo-1544161515-4ab6ce6db874?q=80&w=800&auto=format&fit=crop" class="w-full h-full object-cover grayscale" alt="Mobile Background">
            </div>

            <div class="relative z-10 text-center px-4 w-full max-w-6xl mx-auto flex flex-col items-center justify-center h-full">
                <div class="mb-8 reveal-text">
                    <span class="text-xs md:text-sm uppercase tracking-[0.3em] font-bold text-brand block">Est. 2024 • Los Angeles</span>
                </div>
                <h1 class="font-serif text-[13vw] leading-[0.9] text-ink mb-10 mix-blend-multiply">
                    <div class="reveal-text flex justify-center">
                        <span class="block pb-2" data-i18n="hero_title_1">Demo</span>
                    </div>
                    <div class="reveal-text flex justify-center">
                        <span class="italic text-brand block pb-2" data-i18n="hero_title_2">Massage</span>
                    </div>
                </h1>
                <div class="reveal-text mt-2">
                    <span class="inline-block pt-2">
                        <button onclick="navigateTo('booking')" class="hoverable px-12 py-4 border border-ink rounded-full text-xs uppercase tracking-widest hover:bg-ink hover:text-white transition-all duration-300 bg-paper/50 backdrop-blur-sm md:bg-transparent" data-i18n="hero_btn_book">
                            Book Appointment
                        </button>
                    </span>
                </div>
            </div>

            <!-- Desktop Parallax -->
            <div class="absolute top-[15%] left-[8%] w-48 md:w-72 aspect-[3/4] opacity-80 animate-float hidden md:block" style="animation-delay: 0s;">
                <img src="https://images.unsplash.com/photo-1544161515-4ab6ce6db874?q=80&w=800&auto=format&fit=crop" class="w-full h-full object-cover rounded-sm grayscale hover:grayscale-0 transition-all duration-700 shadow-xl" alt="Spa Detail">
            </div>
            <div class="absolute bottom-[15%] right-[8%] w-56 md:w-80 aspect-[4/5] opacity-80 animate-float hidden md:block" style="animation-delay: 2s;">
                <img src="https://images.unsplash.com/photo-1600334129128-685c5582fd35?q=80&w=800&auto=format&fit=crop" class="w-full h-full object-cover rounded-sm grayscale hover:grayscale-0 transition-all duration-700 shadow-xl" alt="Spa Interior">
            </div>
        </section>

        <!-- SERVICES -->
        <section id="services" class="page-section hidden min-h-screen py-32 relative">
            <div class="container mx-auto px-6 max-w-5xl">
                <div class="flex items-end justify-between mb-16 md:mb-24 reveal-text">
                    <span class="block text-5xl md:text-7xl font-serif text-ink" data-i18n="services_title">Treatments</span>
                    <span class="text-xs uppercase tracking-widest text-gray-500 pb-2 block" data-i18n="services_subtitle">Restore Balance</span>
                </div>

                <div class="border-t border-gray-300" id="services-list">
                    <!-- Populated by JS -->
                </div>
            </div>
        </section>

        <!-- GIFT CARDS -->
        <section id="giftcards" class="page-section hidden min-h-screen py-32 bg-ink text-paper relative">
            <div class="container mx-auto px-6 max-w-6xl">
                <div class="text-center mb-24 reveal-text">
                    <h2 class="font-serif text-5xl md:text-7xl mb-4" data-i18n="gift_title">Gift of Silence</h2>
                    <p class="text-gray-400 text-sm uppercase tracking-widest" data-i18n="gift_subtitle">Share the experience of restoration</p>
                </div>

                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Card 1 -->
                    <div class="group relative bg-white/5 border border-white/10 p-10 hover:bg-brand hover:border-brand transition-all duration-500 cursor-pointer flex flex-col items-center justify-between min-h-[400px] hoverable" onclick="buyGiftCard(50)">
                        <div class="text-center">
                            <i class="ph-thin ph-sparkle text-4xl mb-6 text-gold group-hover:text-white transition-colors"></i>
                            <h3 class="font-serif text-3xl mb-2" data-i18n="gift_tier_1">Balance</h3>
                            <p class="text-xs text-gray-400 uppercase tracking-widest group-hover:text-white/80">$50 Credit</p>
                        </div>
                        <div class="font-serif text-6xl text-white/20 group-hover:text-white transition-colors">$50</div>
                        <button class="w-full py-3 border border-white/20 rounded-full text-xs uppercase tracking-widest group-hover:bg-white group-hover:text-brand transition-all" data-i18n="btn_purchase">Purchase</button>
                    </div>

                    <!-- Card 2 -->
                    <div class="group relative bg-white/5 border border-white/10 p-10 hover:bg-brand hover:border-brand transition-all duration-500 cursor-pointer flex flex-col items-center justify-between min-h-[400px] transform md:-translate-y-4 hoverable" onclick="buyGiftCard(100)">
                        <div class="absolute top-4 right-4 text-gold group-hover:text-white"><i class="ph-fill ph-star"></i></div>
                        <div class="text-center">
                            <i class="ph-thin ph-moon text-4xl mb-6 text-gold group-hover:text-white transition-colors"></i>
                            <h3 class="font-serif text-3xl mb-2" data-i18n="gift_tier_2">Harmony</h3>
                            <p class="text-xs text-gray-400 uppercase tracking-widest group-hover:text-white/80">$100 Credit</p>
                        </div>
                        <div class="font-serif text-6xl text-white/20 group-hover:text-white transition-colors">$100</div>
                        <button class="w-full py-3 border border-white/20 rounded-full text-xs uppercase tracking-widest group-hover:bg-white group-hover:text-brand transition-all" data-i18n="btn_purchase">Purchase</button>
                    </div>

                    <!-- Card 3 -->
                    <div class="group relative bg-white/5 border border-white/10 p-10 hover:bg-brand hover:border-brand transition-all duration-500 cursor-pointer flex flex-col items-center justify-between min-h-[400px] hoverable" onclick="buyGiftCard(200)">
                        <div class="text-center">
                            <i class="ph-thin ph-sun text-4xl mb-6 text-gold group-hover:text-white transition-colors"></i>
                            <h3 class="font-serif text-3xl mb-2" data-i18n="gift_tier_3">Serenity</h3>
                            <p class="text-xs text-gray-400 uppercase tracking-widest group-hover:text-white/80">$200 Credit</p>
                        </div>
                        <div class="font-serif text-6xl text-white/20 group-hover:text-white transition-colors">$200</div>
                        <button class="w-full py-3 border border-white/20 rounded-full text-xs uppercase tracking-widest group-hover:bg-white group-hover:text-brand transition-all" data-i18n="btn_purchase">Purchase</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section id="faq" class="page-section hidden min-h-screen py-32 bg-white relative">
            <div class="container mx-auto px-6 max-w-4xl">
                <div class="text-center mb-20">
                    <h2 class="font-serif text-5xl md:text-6xl text-ink mb-6">FAQ</h2>
                    <div class="w-px h-16 bg-brand mx-auto"></div>
                </div>
                <div class="space-y-4">
                    <div class="accordion-item border-b border-gray-200">
                        <button class="w-full py-6 flex justify-between items-center text-left hoverable" onclick="toggleAccordion(this)">
                            <span class="font-serif text-2xl text-ink" data-i18n="faq_q1">When should I arrive?</span>
                            <span class="text-xl text-brand transition-transform duration-300 transform">+</span>
                        </button>
                        <div class="accordion-content">
                            <p class="pb-6 text-gray-600 font-light leading-relaxed" data-i18n="faq_a1">Please arrive 10-15 minutes prior to your scheduled time to relax and enjoy some tea.</p>
                        </div>
                    </div>
                    <!-- Repeated FAQ items from previous context... -->
                    <div class="accordion-item border-b border-gray-200">
                        <button class="w-full py-6 flex justify-between items-center text-left hoverable" onclick="toggleAccordion(this)">
                            <span class="font-serif text-2xl text-ink" data-i18n="faq_q2">Insurance accepted?</span>
                            <span class="text-xl text-brand transition-transform duration-300 transform">+</span>
                        </button>
                        <div class="accordion-content">
                            <p class="pb-6 text-gray-600 font-light leading-relaxed" data-i18n="faq_a2">We accept most major PPO insurance plans for acupuncture services. Please bring your card.</p>
                        </div>
                    </div>
                    <div class="accordion-item border-b border-gray-200">
                        <button class="w-full py-6 flex justify-between items-center text-left hoverable" onclick="toggleAccordion(this)">
                            <span class="font-serif text-2xl text-ink" data-i18n="faq_q3">Cancellation Policy?</span>
                            <span class="text-xl text-brand transition-transform duration-300 transform">+</span>
                        </button>
                        <div class="accordion-content">
                            <p class="pb-6 text-gray-600 font-light leading-relaxed" data-i18n="faq_a3">We require 24 hours notice for cancellations. Cancellations made within 24 hours will incur a 50% service fee.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- BOOKING (Refined) -->
        <section id="booking" class="page-section hidden min-h-screen bg-ink text-paper py-24 md:py-32">
            <div class="container mx-auto px-4 md:px-6 h-full flex flex-col justify-center">
                <div class="grid lg:grid-cols-2 gap-10 md:gap-20">
                    
                    <!-- Left: Status -->
                    <div class="flex flex-col justify-between order-2 lg:order-1">
                        <div class="hidden lg:block">
                            <h2 class="font-serif text-6xl md:text-7xl mb-6" data-i18n="book_sidebar_title">Book</h2>
                            <p class="text-gray-400 font-light max-w-sm" data-i18n="book_sidebar_desc">
                                Select a service to begin your journey to restoration.
                            </p>
                        </div>
                        
                        <div class="mt-6 lg:mt-0 p-6 md:p-8 border border-white/10 rounded-2xl bg-white/5 backdrop-blur-sm">
                            <div class="text-xs uppercase tracking-widest text-brand mb-4" data-i18n="book_summary">Selection</div>
                            <div id="booking-summary" class="font-serif text-xl md:text-2xl space-y-1">
                                <span class="opacity-50 text-sm italic" data-i18n="book_summary_placeholder">Nothing selected...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Interactive Steps -->
                    <div class="relative order-1 lg:order-2">
                        <!-- Step 1: Services List -->
                        <div id="step-1" class="booking-step space-y-4 animate-fade-in">
                            <!-- Injected JS -->
                        </div>

                        <!-- Step 2: Date & Time -->
                        <div id="step-2" class="booking-step hidden space-y-8 animate-fade-in">
                            
                            <!-- Calendar -->
                            <div>
                                <div class="flex justify-between items-end mb-4">
                                    <h3 class="font-serif text-2xl text-paper" data-i18n="book_title_2">Date</h3>
                                    <div class="text-brand font-bold uppercase text-xs" id="calendar-month-year"></div>
                                </div>
                                <div class="grid grid-cols-7 gap-2 mb-2 text-xs text-gray-500 text-center uppercase font-bold tracking-widest">
                                    <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
                                </div>
                                <div id="custom-calendar" class="calendar-grid"></div>
                            </div>

                            <!-- Time Slots -->
                            <div id="time-slot-container" class="transition-all duration-300">
                                <h3 class="font-serif text-2xl text-paper mb-4" data-i18n="book_label_slots">Time</h3>
                                <div class="grid grid-cols-3 gap-2 md:gap-3" id="time-slots">
                                    <!-- Injected JS -->
                                </div>
                            </div>
                            
                            <div class="pt-4 border-t border-white/10 flex justify-between">
                                <button onclick="changeStep(1)" class="hoverable text-xs uppercase tracking-widest text-gray-400 hover:text-white" data-i18n="btn_back">Back</button>
                            </div>
                        </div>

                        <!-- Step 3: Form -->
                        <div id="step-3" class="booking-step hidden space-y-8 animate-fade-in">
                            <h3 class="font-serif text-3xl text-paper mb-6" data-i18n="book_title_3">Details</h3>
                            <form onsubmit="event.preventDefault(); confirmBooking()" class="space-y-6">
                                <input type="text" id="booking-name" placeholder="Your Name" class="w-full bg-transparent border-b border-white/20 py-3 text-lg md:text-xl font-serif focus:outline-none focus:border-brand placeholder:text-gray-600 hoverable" required>
                                <input type="email" id="booking-email" placeholder="Email" class="w-full bg-transparent border-b border-white/20 py-3 text-lg md:text-xl font-serif focus:outline-none focus:border-brand placeholder:text-gray-600 hoverable" required>
                                <!-- NEW PHONE FIELD -->
                                <input type="tel" id="booking-phone" placeholder="Phone Number" class="w-full bg-transparent border-b border-white/20 py-3 text-lg md:text-xl font-serif focus:outline-none focus:border-brand placeholder:text-gray-600 hoverable" required>
                                
                                <button type="submit" class="w-full py-4 bg-brand text-white font-bold uppercase tracking-widest text-xs hover:bg-white hover:text-ink transition-colors hoverable mt-8" data-i18n="book_btn_confirm">Confirm Booking</button>
                            </form>
                            <div class="pt-4 border-t border-white/10">
                                <button onclick="changeStep(2)" class="hoverable text-xs uppercase tracking-widest text-gray-400 hover:text-white" data-i18n="btn_back">Back</button>
                            </div>
                        </div>

                         <!-- Step 3: Success -->
                         <div id="step-success" class="booking-step hidden text-center pt-20 animate-fade-in">
                            <div class="text-6xl text-brand mb-6 font-serif">合</div>
                            <h3 class="text-4xl font-serif mb-4" data-i18n="book_success_title">Confirmed</h3>
                            <button onclick="resetBooking(); navigateTo('home')" class="text-xs uppercase tracking-widest border-b border-white/30 pb-1 hover:border-white hoverable" data-i18n="btn_return">Return Home</button>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTACT & FOOTER -->
        <section id="contact" class="page-section hidden min-h-screen relative flex flex-col">
            <!-- Split Layout -->
            <div class="flex-grow grid lg:grid-cols-2">
                <!-- Map Side -->
                <div class="relative h-[40vh] lg:h-auto bg-gray-200 overflow-hidden group border-r border-ink/10">
                     <iframe 
                        width="100%" 
                        height="100%" 
                        frameborder="0" 
                        scrolling="no" 
                        src="https://maps.google.com/maps?q=888+Wellness+Blvd,+Los+Angeles,+CA&t=m&z=14&ie=UTF8&iwloc=&output=embed"
                        class="grayscale hover:grayscale-0 transition-all duration-1000 opacity-80 hover:opacity-100">
                    </iframe>
                </div>

                <!-- Content Side -->
                <div class="bg-paper p-8 lg:p-24 flex flex-col justify-center">
                    <h2 class="font-serif text-4xl md:text-5xl text-ink mb-8 md:mb-12" data-i18n="nav_contact">Contact</h2>

                    <div class="space-y-10 md:space-y-12 mb-12 md:mb-16">
                        <div>
                            <span class="text-xs font-bold uppercase tracking-widest text-brand mb-2 block" data-i18n="contact_address_label">Location</span>
                            <p class="font-serif text-xl md:text-2xl text-ink mb-4">888 Wellness Blvd, Suite 100<br>Los Angeles, CA</p>
                            <a href="https://maps.google.com" target="_blank" class="inline-flex items-center gap-2 border border-ink px-6 py-2 rounded-full text-xs uppercase tracking-widest hover:bg-ink hover:text-white transition-colors hoverable">
                                <i class="ph-bold ph-navigation-arrow"></i> Navigate
                            </a>
                        </div>
                        
                        <div>
                            <span class="text-xs font-bold uppercase tracking-widest text-brand mb-2 block" data-i18n="contact_phone_label">Contact</span>
                            <p class="font-serif text-xl md:text-2xl text-ink mb-4">+1 (555) 123-4567</p>
                            <a href="tel:+15551234567" class="inline-flex items-center gap-2 border border-ink px-6 py-2 rounded-full text-xs uppercase tracking-widest hover:bg-ink hover:text-white transition-colors hoverable">
                                <i class="ph-bold ph-phone"></i> Call Us
                            </a>
                        </div>
                    </div>
                    
                    <div class="pt-8 md:pt-12 border-t border-ink/10">
                        <p class="text-xs text-gray-400 uppercase tracking-widest">© 2024 Demo Massage.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- LOGIC -->
    <script>
        // --- TRANSLATION DATA ---
        const translations = {
            en: {
                nav_home: "Home",
                nav_services: "Services",
                nav_giftcards: "Gift Cards",
                nav_contact: "Contact",
                nav_book: "Book",
                hero_title_1: "Demo",
                hero_title_2: "Massage",
                hero_btn_book: "Book Appointment",
                services_title: "Treatments",
                services_subtitle: "Restore Balance",
                gift_title: "Gift of Silence",
                gift_subtitle: "Share the experience of restoration",
                gift_tier_1: "Balance",
                gift_tier_2: "Harmony",
                gift_tier_3: "Serenity",
                btn_purchase: "Purchase",
                book_sidebar_title: "Book",
                book_sidebar_desc: "Select a service to begin your journey to restoration.",
                book_summary: "Selection",
                book_summary_placeholder: "Nothing selected...",
                book_title_2: "Date",
                book_label_slots: "Time",
                book_title_3: "Details",
                book_btn_confirm: "Confirm Booking",
                book_success_title: "Confirmed",
                btn_back: "Back",
                btn_return: "Return Home",
                faq_q1: "When should I arrive?",
                faq_a1: "Please arrive 10-15 minutes prior to your scheduled time to relax and enjoy some tea.",
                faq_q2: "Insurance accepted?",
                faq_a2: "We accept most major PPO insurance plans for acupuncture services. Please bring your card.",
                faq_q3: "Cancellation Policy?",
                faq_a3: "We require 24 hours notice for cancellations. Cancellations made within 24 hours will incur a 50% service fee.",
                btn_book_now: "Book Now",
                duration_min: "min",
                contact_address_label: "Location",
                contact_phone_label: "Contact",
                checkout_title: "Checkout",
                checkout_desc: "Gift Card Purchase",
                btn_pay: "Pay Now",
                msg_processing: "Processing...",
                msg_success_title: "Payment Successful",
                msg_success_desc: "Your gift card code has been sent to your email.",
                btn_close: "Close"
            },
            zh: {
                nav_home: "首页",
                nav_services: "服务",
                nav_giftcards: "礼品卡",
                nav_contact: "联系",
                nav_book: "预订",
                hero_title_1: "演示",
                hero_title_2: "按摩",
                hero_btn_book: "预约服务",
                services_title: "疗程",
                services_subtitle: "恢复平衡",
                gift_title: "寂静之礼",
                gift_subtitle: "分享修复的体验",
                gift_tier_1: "平衡",
                gift_tier_2: "和谐",
                gift_tier_3: "宁静",
                btn_purchase: "购买",
                book_sidebar_title: "预订",
                book_sidebar_desc: "选择一项服务开始您的修复之旅。",
                book_summary: "已选",
                book_summary_placeholder: "未选择...",
                book_title_2: "日期",
                book_label_slots: "时间",
                book_title_3: "详情",
                book_btn_confirm: "确认预订",
                book_success_title: "已确认",
                btn_back: "返回",
                btn_return: "返回首页",
                faq_q1: "我应该什么时候到达？",
                faq_a1: "请在预约时间前10-15分钟到达，以便放松身心并享用茶水。",
                faq_q2: "接受保险吗？",
                faq_a2: "针灸服务接受大多数主要的PPO保险计划。请带上您的保险卡。",
                faq_q3: "取消政策？",
                faq_a3: "我们需要提前24小时通知取消。24小时内取消将收取50%的服务费。",
                btn_book_now: "立即预订",
                duration_min: "分钟",
                contact_address_label: "地址",
                contact_phone_label: "联系方式",
                checkout_title: "结账",
                checkout_desc: "购买礼品卡",
                btn_pay: "立即支付",
                msg_processing: "处理中...",
                msg_success_title: "支付成功",
                msg_success_desc: "礼品卡代码已发送至您的邮箱。",
                btn_close: "关闭"
            }
        };

        let currentLang = 'en';

        // --- SERVICES DATA ---
        const services = [
            { id: 1, name: {en: "Acupuncture", zh: "针灸"}, price: 100, duration: 60 },
            { id: 2, name: {en: "Cupping Therapy", zh: "拔罐"}, price: 60, duration: 30 },
            { id: 3, name: {en: "Moxibustion", zh: "艾灸"}, price: 80, duration: 45 },
            { id: 4, name: {en: "Gua Sha", zh: "刮痧"}, price: 50, duration: 30 },
            { id: 5, name: {en: "Deep Massage", zh: "深层按摩"}, price: 90, duration: 60 },
        ];

        let bookingState = { service: null, price: 0, date: null, time: null };

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            renderServicesList();
            renderBookingList();
            renderCalendar();
            generateTimeSlots();
            
            setTimeout(() => {
                const loader = document.getElementById('loader');
                loader.style.transform = 'translateY(-100%)';
                setTimeout(() => {
                    document.querySelectorAll('.reveal-text span').forEach(el => {
                        el.style.transform = 'translateY(0)';
                    });
                }, 500);
            }, 1500);
        });

        // --- MOCK PURCHASE LOGIC ---
        function buyGiftCard(amount) {
            const modal = document.getElementById('checkout-modal');
            document.getElementById('checkout-amount-display').textContent = `$${amount}.00`;
            document.getElementById('checkout-step-1').classList.remove('hidden');
            document.getElementById('checkout-step-2').classList.add('hidden');
            document.getElementById('checkout-step-3').classList.add('hidden');
            modal.classList.remove('hidden');
        }

        function closeCheckout() {
            document.getElementById('checkout-modal').classList.add('hidden');
        }

        function processPayment() {
            document.getElementById('checkout-step-1').classList.add('hidden');
            document.getElementById('checkout-step-2').classList.remove('hidden');
            
            setTimeout(() => {
                document.getElementById('checkout-step-2').classList.add('hidden');
                document.getElementById('checkout-step-3').classList.remove('hidden');
            }, 2000);
        }

        // --- LANGUAGE ---
        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'zh' : 'en';
            document.getElementById('lang-display').innerText = currentLang === 'en' ? 'EN' : '中';
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(translations[currentLang][key]) el.innerText = translations[currentLang][key];
            });

            renderServicesList();
            renderBookingList();
            updateSummary();
        }

        // --- NAVIGATION ---
        function navigateTo(id) {
            document.querySelectorAll('.page-section').forEach(sec => {
                sec.classList.remove('active');
                sec.classList.add('hidden');
            });
            const target = document.getElementById(id);
            if(target) {
                target.classList.remove('hidden');
                setTimeout(() => target.classList.add('active'), 10);
                window.scrollTo(0,0);
            }
            
            const nav = document.getElementById('main-nav');
            if(id === 'booking' || id === 'giftcards') {
                nav.classList.remove('md:text-ink');
                nav.classList.add('md:text-white');
            } else {
                nav.classList.remove('md:text-white');
                nav.classList.add('md:text-ink');
            }
        }

        function toggleMenu() {
            const menu = document.getElementById('fs-menu');
            const current = menu.style.transform;
            menu.style.transform = current === 'translateY(0%)' ? 'translateY(-100%)' : 'translateY(0%)';
        }

        function toggleAccordion(el) {
            el.parentElement.classList.toggle('active');
            const span = el.querySelector('span:last-child');
            if(el.parentElement.classList.contains('active')){
                span.style.transform = "rotate(45deg)";
                el.nextElementSibling.style.maxHeight = el.nextElementSibling.scrollHeight + "px";
            } else {
                span.style.transform = "rotate(0deg)";
                el.nextElementSibling.style.maxHeight = "0";
            }
        }

        // --- RENDERERS ---
        function renderServicesList() {
            const container = document.getElementById('services-list');
            container.innerHTML = services.map((s, idx) => `
                <div class="group border-b border-gray-300 py-10 flex justify-between items-center cursor-pointer hoverable" onclick="startBooking(${s.id})">
                    <div class="flex items-baseline gap-8">
                        <span class="text-xs font-mono text-gray-400">0${idx+1}</span>
                        <h3 class="text-3xl md:text-5xl font-serif text-ink group-hover:italic group-hover:translate-x-4 transition-all duration-500">${s.name[currentLang]}</h3>
                    </div>
                    <!-- FIX: Visible price on mobile -->
                    <span class="text-sm font-bold opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity">$${s.price}</span>
                </div>
            `).join('');
        }

        function renderBookingList() {
            const container = document.getElementById('step-1');
            container.innerHTML = services.map(s => {
                const isSelected = bookingState.service?.id === s.id;
                const activeClass = isSelected ? 'bg-white text-ink border-brand' : 'border-white/20 hover:bg-white hover:text-ink';
                return `
                <div onclick="selectService(${s.id})" class="hoverable group flex justify-between items-center p-4 border rounded cursor-pointer transition-all ${activeClass}">
                    <span class="font-serif text-xl">${s.name[currentLang]}</span>
                    <span class="text-sm opacity-80">$${s.price}</span>
                </div>
            `}).join('');
        }

        function generateTimeSlots() {
            const times = ['09:00', '10:00', '11:00', '13:00', '14:30', '16:00'];
            document.getElementById('time-slots').innerHTML = times.map(t => `
                <button onclick="selectTime('${t}', this)" class="time-slot hoverable py-3 border border-white/20 rounded hover:bg-white hover:text-ink text-sm transition-all font-bold">${t}</button>
            `).join('');
        }

        function renderCalendar() {
            const cal = document.getElementById('custom-calendar');
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            const today = now.getDate();
            
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            document.getElementById('calendar-month-year').innerText = `${monthNames[month]} ${year}`;
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            cal.innerHTML = '';
            
            if (!bookingState.date) {
                bookingState.date = `${monthNames[month]} ${today}`;
            }

            for(let i=0; i<firstDay; i++) {
                cal.innerHTML += `<div class="calendar-day disabled opacity-0"></div>`;
            }
            
            for(let i=1; i<=daysInMonth; i++) {
                const isPast = i < today;
                const dateStr = `${monthNames[month]} ${i}`;
                const isSelected = bookingState.date === dateStr;
                
                if (isPast) {
                    cal.innerHTML += `<div class="calendar-day disabled">${i}</div>`;
                } else {
                    const selectedClass = isSelected ? 'selected' : '';
                    cal.innerHTML += `<div class="calendar-day hoverable ${selectedClass}" onclick="selectDate(${i}, this)">${i}</div>`;
                }
            }
        }

        // --- BOOKING FLOW ---
        function startBooking(id) {
            selectService(id);
            navigateTo('booking');
        }

        function selectService(id) {
            const s = services.find(x => x.id === id);
            if(s) {
                bookingState.service = s;
                bookingState.price = s.price;
                updateSummary();
                renderBookingList();
                changeStep(2);
            }
        }

        function selectDate(day, el) {
            document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
            el.classList.add('selected');
            const now = new Date();
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            bookingState.date = `${monthNames[now.getMonth()]} ${day}`;
            updateSummary();
        }

        function selectTime(time, el) {
            if (!bookingState.date) {
                const calContainer = document.getElementById('custom-calendar');
                calContainer.classList.add('animate-shake');
                setTimeout(() => calContainer.classList.remove('animate-shake'), 500);
                return;
            }

            document.querySelectorAll('.time-slot').forEach(t => {
                t.classList.remove('selected');
                t.classList.remove('bg-brand');
            });
            el.classList.add('selected');
            bookingState.time = time;
            updateSummary();
            
            setTimeout(() => changeStep(3), 300);
        }

        function changeStep(step) {
            document.querySelectorAll('.booking-step').forEach(el => el.classList.add('hidden'));
            const nextStep = document.getElementById(`step-${step}`);
            nextStep.classList.remove('hidden');
            nextStep.classList.remove('animate-fade-in');
            void nextStep.offsetWidth; 
            nextStep.classList.add('animate-fade-in');
        }

        function updateSummary() {
            const el = document.getElementById('booking-summary');
            if(bookingState.service) {
                el.innerHTML = `
                    <div class="text-white">${bookingState.service.name[currentLang]}</div>
                    ${bookingState.date ? `<div class="text-gold text-lg mt-2">${bookingState.date} ${bookingState.time ? '@ '+bookingState.time : ''}</div>` : ''}
                    <div class="text-sm opacity-50 mt-2">$${bookingState.price}</div>
                `;
            }
        }

        async function confirmBooking() {
            const btn = document.querySelector('#step-3 button[type="submit"]');
            const originalText = btn.innerText;
            btn.innerText = currentLang === 'en' ? "Sending..." : "发送中...";
            btn.disabled = true;

            const nameInput = document.getElementById('booking-name');
            const emailInput = document.getElementById('booking-email');
            const phoneInput = document.getElementById('booking-phone');
            
            const name = nameInput.value;
            const email = emailInput.value;
            const phone = phoneInput.value;

            const serviceNameEn = bookingState.service.name.en;
            const serviceNameZh = bookingState.service.name.zh;
            
            const message = `
========================================
🆕 NEW BOOKING REQUEST / 新预订请求
========================================

👤 CUSTOMER DETAILS / 客户详情
----------------------------------------
• Name (姓名):   ${name}
• Email (邮箱):  ${email}
• Phone (电话):  ${phone}

📅 APPOINTMENT DETAILS / 预约详情
----------------------------------------
• Service (项目): ${serviceNameEn}
• Service (中文): ${serviceNameZh}
• Date (日期):    ${bookingState.date}
• Time (时间):    ${bookingState.time}
• Price (价格):   $${bookingState.service.price}

========================================
`;

            try {
                const response = await fetch("https://formspree.io/f/xovnykve", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        name: name,
                        email: email,
                        subject: `Booking: ${serviceNameEn} - ${bookingState.date}`,
                        message: message,
                        _replyto: email
                    })
                });

                if (response.ok) {
                    changeStep('success');
                } else {
                    alert("There was a problem sending your booking. Please try again.");
                    btn.innerText = originalText;
                    btn.disabled = false;
                }
            } catch (error) {
                console.error("Error:", error);
                alert("Network error. Please try again.");
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }

        function resetBooking() {
            bookingState = { service: null, price: 0, date: null, time: null };
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            renderBookingList(); 
            updateSummary();
            changeStep(1);
        }

        // --- CURSOR ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        
        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;
            cursorDot.style.left = `${posX}px`;
            cursorDot.style.top = `${posY}px`;
            cursorOutline.animate({
                left: `${posX}px`,
                top: `${posY}px`
            }, { duration: 500, fill: "forwards" });
        });

        document.body.addEventListener('mouseover', (e) => {
            if (e.target.closest('.hoverable')) {
                document.body.classList.add('hovering');
            }
        });
        document.body.addEventListener('mouseout', (e) => {
            if (e.target.closest('.hoverable')) {
                document.body.classList.remove('hovering');
            }
        });
    </script>
</body>
</html>